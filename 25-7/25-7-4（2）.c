// 题目：判断一个整数是否为素数（质数）
// 问题说明：原代码存在两处关键性逻辑错误：
// 1) 在循环中把 isprime 重新声明为局部变量，导致外层 isprime 不会被修改；
// 2) 在最终判断时使用了赋值运算符 '=' 而不是比较运算符 '=='。
// 下面在修复的地方给出详细中文注释。

#include <stdio.h>

int main(void) {
    int x;
    int isprime = 1;         // 初始假设 x 是素数，后续若发现因子则置为 0
    int i;

    scanf("%d", &x);

    // 边界处理：小于 2 的整数（含负数、0、1）都不是素数
    if (x < 2) {
        isprime = 0;         // 修复点：明确将 isprime 置为 0，表示非素数
    } else {
        // 可优化：只需检查到 i*i <= x 即可，无需检查到 x-1
        for (i = 2; i < x; i++) {
            if (x % i == 0) {
                // 修复点1（关键）：
                // 原代码写成了 "int isprime = 0;"，这会在 if 语句块内部创建一个新的局部变量
                // 与外层的 isprime 不是同一个变量，循环结束后外层 isprime 仍为 1。
                // 正确做法是去掉类型声明，直接为外层变量赋值。
                isprime = 0; // 发现因子，标记为非素数
                break;       // 既然已确定非素数，尽快跳出循环（性能优化）
            }
        }
    }

    // 修复点2（关键）：
    // 原代码使用 "if (isprime = 1)"，这是赋值而非比较，会把 isprime 赋值为 1，条件恒为真。
    // 正确写法是使用比较运算符 '=='。
    if (isprime == 1) {
        printf("%d is a prime", x);
    } else {
        printf("%d is not a prime", x);
    }

    return 0;
}

