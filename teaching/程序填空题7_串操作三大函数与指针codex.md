# 程序填空题第7题讲义：串操作三大函数与指针（strcmp/strcpy/strcat）

对应题目位置：`程序填空题题干/程序填空题-题干汇总.md` 第 7 题《串操作练习》。

---

## 1. 先把“C 字符串”当成一条规则

在 C 语言里，字符串不是“对象”，它就是一段 `char` 数组，**以 `'\0'` 结束**。

所以只要你看到 `char *s`、`char *t` 这种形参，你就把它理解成：

- `s` / `t` 存的是地址（指向某个字符）
- `*s` / `*t` 才是当前这个字符
- `s++` / `t++` 表示指针往后挪一个字符
- 直到遇到 `'\0'`（也就是 `*s == '\0'`），字符串结束

---

## 2. `strcompare(char *s, char *t)`（相当于 `strcmp`）

题目注释说“返回 0 或不同处 ASCII 码的差”，本质是：

1) 先跳过两串相同的前缀  
2) 一旦遇到第一个不同字符（或某一串结束），就返回它们的差

### 2.1 `while` 条件为什么这么写

常见模板是：

```c
while (*s && *s == *t)
    s++, t++;
```

这里 `*s` 在条件里等价于 `*s != '\0'`，表示“还没到结尾”。

所以 while 会在两种情况下停下来：

- `*s == '\0'`：`s` 已经结束了
- `*s != *t`：第一次出现不同字符

### 2.2 `return *s - *t` 什么时候执行

`return` 不在 while 里，**是 while 停下来以后才执行一次**。

它负责给出结果：

- 两串完全一样：最后停在 `'\0'` 对 `'\0'`，返回 `0`
- 其中一个是另一个的前缀：例如 `"show"` vs `"showed"`  
  停在 `'\0'` 和 `'e'`，返回 `0 - 'e'`（不是 0）
- 某一位第一次不同：例如 `"abX..."` vs `"abY..."`  
  停在 `'X'` 和 `'Y'`，返回 `'X' - 'Y'`

---

## 3. `strcopy(char *s, char *t)`（相当于 `strcpy`）

目标：把 `t` 复制到 `s`。

核心就是“一个个字符搬过去”，直到 `t` 的 `'\0'`：

```c
while (*t) {
    *s = *t;
    s++; t++;
}
*s = '\0';
```

### 3.1 为什么最后必须写 `*s = '\0'`

如果你只复制到 `t` 的最后一个普通字符就停了，但不补 `'\0'`，那么 `s` 就没有正确结尾。之后 `printf("%s", s)` 或比较都会继续往后乱读内存。

所以这句在填空题里几乎是必考点。

---

## 4. `strconcat(char *s, char *t)`（相当于 `strcat`）

目标：把 `t` 追加到 `s` 的末尾。

它分两步：

1) 先把 `s` 移到自己的结尾（找到 `'\0'` 的位置）：

```c
while (*s) s++;
```

2) 再把 `t` 复制过来（同样一个个搬），最后补 `'\0'`：

```c
while (*t) {
    *s = *t;
    s++; t++;
}
*s = '\0';
```

---

## 5. 回到本题：为什么样例会输出 0（用题目变量 `a,b,c`）

题目 `main` 做了这些事：

```c
gets(a);
gets(b);
strcopy(c, b);
strconcat(c, "ed");
printf("%d\n", strcompare(a, c));
```

当输入是：

- `a = "showed"`
- `b = "show"`

执行后：

- `strcopy(c, b)` 让 `c` 变成 `"show"`
- `strconcat(c, "ed")` 让 `c` 变成 `"showed"`
- `strcompare(a, c)` 比较 `"showed"` 和 `"showed"`，当然返回 `0`

---

## 6. 填空时的“最稳写法”（按题目风格）

题目空的常见标准答案（按函数顺序）：

### 6.1 `strcompare`

- `while(【  】)`：`*s && *s==*t`
- `return 【  】;`：`*s-*t`

### 6.2 `strcopy`

- `while(【  】)`：`*t`
- 循环体那句 `【  】; s++; t++;`：`*s=*t`
- 最后 `【  】;`：`*s='\0'`

### 6.3 `strconcat`

- `while(【  】) s++;`：`*s`
- `while(【  】)`：`*t`
- 循环体里 `【  】;`：`*s=*t`
- 最后 `【  】;`：`*s='\0'`

---

## 7. 这题最容易丢分的点（做前 10 秒检查）

- `*s` 在 while 条件里等价于 `*s!='\0'`，但填空更建议写 `*s`（更贴模板）。
- 复制/连接结束一定要补 `'\0'`：`*s='\0'`。
- `s++`/`t++` 是指针移动，不是给字符加 1；别写成 `(*s)++`。
- 题目用了 `gets`（不安全但填空题会用），理解成“读一行字符串”即可。

