# 编程题讲义：输入输出与格式化输出

> 目标：把 I/O 细节变成稳定得分点。很多题并不难，难在“读入没读对、输出格式不匹配”。

## 1. `scanf`：读入时需要地址
`scanf` 要把数据写进变量，所以参数通常是地址：
```c
int x;
scanf("%d", &x);
```

数组元素也一样：
```c
scanf("%d", &a[i]);
```

例外：字符数组名（字符串）本身就是地址：
```c
char s[100];
scanf("%99s", s);
```

## 2. `printf`：输出时用值
```c
printf("%d\n", x);
```

常用格式：
- `int`：`%d`
- `long long`：`%lld`
- `float/double` 输出：`%f`
- 保留 1 位小数：`%.1f`
- 保留 2 位小数：`%.2f`
- 指定宽度：`%3d`（宽度 3）

## 3. 浮点数精度的基本原则
### 3.1 不要用 `==` 比较浮点
如果需要判断“足够接近”，用误差：
```c
if (fabs(a - b) < 1e-9) { ... }
```
（如果题目只让输出而不让比较，通常不需要这一步）

### 3.2 输出精度决定结果判定
很多平台按“输出字符串”判定对错，你必须严格按题目要求保留位数、是否换行。

## 4. 多组数据输入（常见模式）
### 4.1 第一行给组数
```c
int T;
scanf("%d", &T);
while (T--) { ... }
```

### 4.2 读到 EOF
```c
while (scanf("%d", &x) == 1) { ... }
```

## 5. 字符串读入：是否包含空格
### 5.1 不包含空格：`scanf("%s")`
遇到空格/换行就停止。

### 5.2 可能包含空格：`fgets`
```c
fgets(s, sizeof s, stdin);
```
注意：`fgets` 可能把末尾 `\n` 读进来，常见做法是去掉：
```c
s[strcspn(s, "\n")] = '\0';
```

## 6. 自检清单
- 每个 `scanf` 的变量都确认：该不该加 `&`？
- 每个格式占位符都确认：类型匹配吗？
- 输出的精度、分隔符、换行是否完全一致？

